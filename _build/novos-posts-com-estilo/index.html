<!DOCTYPE html>
<html>
<head>

    <title>Novos posts com estilo</title>

    <!-- Meta -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Desenvolvedor Web" />

    <!-- Facebook -->
    <meta property="og:title" content="Novos posts com estilo"/>
    <meta property="og:site_name" content="Blog - Vitor Britto"/>
    <meta property="og:url" content="http://www.vitorbritto.com.br/blog/novos-posts-com-estilo/"/>
    <meta property="og:image" content="http://www.vitorbritto.com.br/blog/assets/images/fb.jpg"/>
    <meta property="og:type" content="article"/>
    <meta property="og:description" content="Desenvolvedor Web"/>

    <link rel="shortcut icon" href="http://www.vitorbritto.com.br/blog/assets/images/favicon.png" type="image/x-icon">
    <link href="http://feeds.feedburner.com/vitorbritto" rel="alternate" type="application/rss+xml">
    <link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700" rel="stylesheet">
    <link href="http://www.vitorbritto.com.br/blog/assets/css/style.css" rel="stylesheet" id="theme-css"/>

</head>

<body>

    <div class="container">

        <div class="row">
            <header class="header">

                <div class="span4">
                    <div class="header-info">
                        <h1 class="header-name"><a href="http://www.vitorbritto.com.br/blog">Vitor Britto</a></h1>
                        <h4 class="header-description">Desenvolvedor Web</h4>
                    </div>
                </div>

                <div class="span5">
                    <nav>
    <ul class="menu">
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/">Início</a></li>
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/about">Sobre</a></li>
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/projects">Projetos</a></li>
    </ul>
</nav>

                </div>

                <div class="span3">
                    <nav>
    <ul class="menu">
        <li class="menu-item">
            <a href="https://www.facebook.com/vbwebstudio" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>
        </li>
        <li class="menu-item">
            <a href="https://twitter.com/vitorbritto" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>
        </li>
        <li class="menu-item">
            <a href="https://github.com/vitorbritto" title="Github" target="_blank"><i class="icon-github"></i></a>
        </li>
        <li class="menu-item">
            <a href="mailto:contato@vitorbritto.com.br"><i class="icon-envelope-alt"></i></a>
        </li>
        <li class="menu-item">
            <a href="http://feeds.feedburner.com/vitorbritto" title="RSS Feed" target="_blank"><i class="icon-rss"></i></a>
        </li>
    </ul>
</nav>

                </div>

            </header>
        </div>

        <div class="line"></div>


<!-- Switch Theme -->
<div class="theme-wrapper">
    <p class="theme-text">Tema:</p>
    <span class="theme-btn light" id="theme-light"></span>
    <span class="theme-btn dark" id="theme-dark"></span>
</div>

    <div class="row">

        <article class="article">

            <img class="article-img" src="http://www.vitorbritto.com.br/blog/assets/images/posts/post-novos-posts-com-estilo.jpg">
            <h2 class="article-title">Novos posts com estilo</h2>

            <ul class="article-info">
                
                <li><a href="https://github.com/vitorbritto/vitorbritto.github.io/blob/master/_posts/2015-01-01-novos-posts-com-estilo.md" title="Github" target="_blank"><i class="icon-github"></i> Editar este post</a></li>
                
                <li>Publicado em: 01/01/2015 | </li>
                <li>Leia em: 4  minutos</li>

            </ul>

            <div class="line"></div>

            <section class="article-entry">
                <p>Saudações!</p>

<p>Gostaria de compartilhar uma dica interessante para os usuários do <em>Static Generator</em> Jekyll, que, apesar de ser uma excelente ferramenta, me deixou na mão em um ponto: criar novos posts. </p>

              <h2 id="O-problema">
                <a name="O-problema" href="#O-problema"></a>O problema
              </h2>
            
<p>Mesmo com a facilidade da sintaxe do YAML (front matter) e o Markdown para escrever os meus artigos, senti falta de uma tarefa/comando/utilitário para automatizar o processo de criação de um modelo inicial para os meus posts.</p>

<p>Sabendo-se que passo a maior parte do tempo no terminal/console/shell e, até onde sei, não é possível criar um template via CLI para um novo post com o Jekyll, resolvi facilitar este processo desenvolvendo um programa em Shell para gerar um template de acordo com as minhas necessidades.</p>

              <h2 id="A-solução">
                <a name="A-solução" href="#A-solução"></a>A solução
              </h2>
            
<p>O primeiro passo foi montar a estrutura do script responsável por está automação, colocando um cabeçalho e uma opção para <code>--help</code>. A boa prática em documentar o seu programa, facilita a sua manutenção. Não somente, o seu programa fica muito mais organizado e elegante.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>```
<a name="line-2"></a>#!/usr/bin/env bash
<a name="line-3"></a>
<a name="line-4"></a># ------------------------------------------------------------------------------
<a name="line-5"></a>#
<a name="line-6"></a># Program: initpost.sh
<a name="line-7"></a># Author:  Vitor Britto
<a name="line-8"></a># Description: script to create an initial structure for my posts.
<a name="line-9"></a>#
<a name="line-10"></a># Usage: ./initpost.sh [options] &lt;post name&gt;
<a name="line-11"></a>#
<a name="line-12"></a># Options:
<a name="line-13"></a>#   -h, --help        output instructions
<a name="line-14"></a>#   -c, --create      create post
<a name="line-15"></a>#
<a name="line-16"></a># Alias: alias ipost=&quot;bash ~/path/to/script/initpost.sh&quot;
<a name="line-17"></a>#
<a name="line-18"></a># Example:
<a name="line-19"></a>#   ./initpost.sh -c How to replace strings with sed
<a name="line-20"></a>#
<a name="line-21"></a># Important Notes:
<a name="line-22"></a>#   - This script was created to generate new markdown files for my blog.
<a name="line-23"></a>#
<a name="line-24"></a># ------------------------------------------------------------------------------
<a name="line-25"></a>```
</code></pre></div>
<blockquote>
<p>Lembre-se sempre de incluir o <em>shebang</em> na primeira linha do programa para torná-lo executável. Se quiser saber mais sobre isto, <a href="http://www.vitorbritto.com.br/blog/criando-bons-programas-em-shell-script/">clique aqui</a>.</p>
</blockquote>

<p>Além disso, é deverás importante viabilizar uma opção para ajudar o usuário na jornada pela ferramenta. Mesmo que este usuário seja você.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>```
<a name="line-2"></a># Everybody need some help
<a name="line-3"></a>initpost_help() {
<a name="line-4"></a>
<a name="line-5"></a>cat &lt;&lt;EOT
<a name="line-6"></a>
<a name="line-7"></a>------------------------------------------------------------------------------
<a name="line-8"></a>INIT POST - A shortcut to create an initial structure for my posts.
<a name="line-9"></a>------------------------------------------------------------------------------
<a name="line-10"></a>
<a name="line-11"></a>Usage: ./initpost.sh [options] &lt;post name&gt;
<a name="line-12"></a>
<a name="line-13"></a>Options:
<a name="line-14"></a>  -h, --help        output instructions
<a name="line-15"></a>  -c, --create      create post
<a name="line-16"></a>
<a name="line-17"></a>Example:
<a name="line-18"></a>  ./initpost.sh -c How to replace strings with sed
<a name="line-19"></a>
<a name="line-20"></a>Important Notes:
<a name="line-21"></a>  - This script was created to generate new text files to my blog.
<a name="line-22"></a>
<a name="line-23"></a>
<a name="line-24"></a>Copyright (c) Vitor Britto
<a name="line-25"></a>Licensed under the MIT license.
<a name="line-26"></a>
<a name="line-27"></a>------------------------------------------------------------------------------
<a name="line-28"></a>
<a name="line-29"></a>EOT
<a name="line-30"></a>
<a name="line-31"></a>}
<a name="line-32"></a>```
</code></pre></div>
<p>O segundo passo foi desenvolver funções utilitárias para determinados comportamentos deste programa. Neste caso, temos funções para criar <em>logs</em> e renderizar na tela algumas mensagens.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>```
<a name="line-2"></a># ------------------------------------------------------------------------------
<a name="line-3"></a># | UTILS                                                                      |
<a name="line-4"></a># ------------------------------------------------------------------------------
<a name="line-5"></a>
<a name="line-6"></a># Header logging
<a name="line-7"></a>e_header() {
<a name="line-8"></a>    printf &quot;$(tput setaf 38)→ %s$(tput sgr0)\n&quot; &quot;$@&quot;
<a name="line-9"></a>}
<a name="line-10"></a>
<a name="line-11"></a># Success logging
<a name="line-12"></a>e_success() {
<a name="line-13"></a>    printf &quot;$(tput setaf 76)✔ %s$(tput sgr0)\n&quot; &quot;$@&quot;
<a name="line-14"></a>}
<a name="line-15"></a>
<a name="line-16"></a># Error logging
<a name="line-17"></a>e_error() {
<a name="line-18"></a>    printf &quot;$(tput setaf 1)✖ %s$(tput sgr0)\n&quot; &quot;$@&quot;
<a name="line-19"></a>}
<a name="line-20"></a>
<a name="line-21"></a># Warning logging
<a name="line-22"></a>e_warning() {
<a name="line-23"></a>    printf &quot;$(tput setaf 3)! %s$(tput sgr0)\n&quot; &quot;$@&quot;
<a name="line-24"></a>}
<a name="line-25"></a>```
</code></pre></div>
<blockquote>
<p>Perceba que os dois passos anteriores podem ser reutilizáveis em outros programas Shell.</p>
</blockquote>

<p>No próximo e terceiro passo, defini as variáveis e &quot;constantes&quot; deste programa. Ambas são escritas em <em>uppercase</em>, a não ser quando crio variáveis locais (no escopo de uma função) que, por sua vez, são escritas em <em>lowercase</em>.</p>

<blockquote>
<p>Fica à seu critério, como definir suas variáveis. Me sinto confortável desta maneira. Combinado?</p>
</blockquote>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>```
<a name="line-2"></a># ------------------------------------------------------------------------------
<a name="line-3"></a># | VARIABLES                                                                  |
<a name="line-4"></a># ------------------------------------------------------------------------------
<a name="line-5"></a>
<a name="line-6"></a># CORE: Do not change these lines
<a name="line-7"></a># ----------------------------------------------------------------
<a name="line-8"></a>POST_TITLE=&quot;${@:2:$(($#-1))}&quot;
<a name="line-9"></a>POST_NAME=&quot;$(echo ${@:2:$(($#-1))} | sed -e &#39;s/ /-/g&#39; | sed &quot;y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/&quot;)&quot;
<a name="line-10"></a>CURRENT_DATE=&quot;$(date +&#39;%Y-%m-%d&#39;)&quot;
<a name="line-11"></a>FILE_NAME=&quot;${CURRENT_DATE}-${POST_NAME}.md&quot;
<a name="line-12"></a># ----------------------------------------------------------------
<a name="line-13"></a>
<a name="line-14"></a>
<a name="line-15"></a># SETTINGS: your configuration goes here
<a name="line-16"></a># ----------------------------------------------------------------
<a name="line-17"></a>
<a name="line-18"></a># Set your destination folder
<a name="line-19"></a>DIST_FOLDER=&quot;$HOME/Dropbox/DOCUMENTOS/Articles/&quot;
<a name="line-20"></a>
<a name="line-21"></a># Set your blog URL
<a name="line-22"></a>BLOG_URL=&quot;http://vitorbritto.com/blog&quot;
<a name="line-23"></a>
<a name="line-24"></a># Set your assets URL
<a name="line-25"></a>ASSETS_URL=&quot;assets/images/posts&quot;
<a name="line-26"></a># ----------------------------------------------------------------
<a name="line-27"></a>```
</code></pre></div>
<p>Nesta parte, separei as &quot;constantes&quot; das variáveis por <strong>CORE</strong> e <strong>SETTINGS</strong>. Veja como a documentação de cada elemento ajuda na identificação do que pode ser alterado ou não.</p>

<p>No quarto passo, dei início ao desenvolvimento das <em>main functions</em>.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>```
<a name="line-2"></a># Initial Content
<a name="line-3"></a>initpost_content() {
<a name="line-4"></a>
<a name="line-5"></a>echo &quot;---&quot;
<a name="line-6"></a>echo &quot;layout: post&quot;
<a name="line-7"></a>echo &quot;title: \&quot;${POST_TITLE}\&quot;&quot;
<a name="line-8"></a>echo &quot;link: \&quot;${BLOG_URL}/${POST_NAME}/\&quot;&quot;
<a name="line-9"></a>echo &quot;date: ${CURRENT_DATE}&quot;
<a name="line-10"></a>echo &quot;cover: \&quot;${ASSETS_URL}/post-${POST_NAME}.jpg\&quot;&quot;
<a name="line-11"></a>echo &quot;path: \&quot;${FILE_NAME}\&quot;&quot;
<a name="line-12"></a>echo &quot;description:&quot;
<a name="line-13"></a>echo &quot;comments: true&quot;
<a name="line-14"></a>echo &quot;bio: Desenvolvedor Web e Designer, extremamente apaixonado pelo seu trabalho. Descobriu o mundo dos códigos há quase duas décadas e mantém a mesma paixão desde o primeiro dia dessa descoberta. Trabalha como freelancer full time há quase 4 anos desenvolvendo projetos voltados para a web. Também direciona boa parte do seu tempo para pesquisas, projetos colaborativos, desenvolvimento de projetos pessoais e escrever os artigos aqui publicados.&quot;
<a name="line-15"></a>echo &quot;---&quot;
<a name="line-16"></a>
<a name="line-17"></a>}
<a name="line-18"></a>
<a name="line-19"></a># Create file
<a name="line-20"></a>initpost_file() {
<a name="line-21"></a>    if [ ! -f &quot;$FILE_NAME&quot; ]; then
<a name="line-22"></a>        e_header &quot;Creating template...&quot;
<a name="line-23"></a>        initpost_content &gt; &quot;${DIST_FOLDER}/${FILE_NAME}&quot;
<a name="line-24"></a>        e_success &quot;Initial post successfully created!&quot;
<a name="line-25"></a>    else
<a name="line-26"></a>        e_warning &quot;File already exist.&quot;
<a name="line-27"></a>        exit 1
<a name="line-28"></a>    fi
<a name="line-29"></a>
<a name="line-30"></a>}
<a name="line-31"></a>```
</code></pre></div>
<p>Se você se sentiu incomodado com a quantidade de <em>echo</em> na função <code>initpost_content()</code>, saiba que podemos utilizar o o comando/utilitário <code>cat</code> (informações em <code>man cat</code>), gravar estas informações em um arquivo de texto externo ou a solução que você achar mais conveniente.</p>

<p>Por fim, criei uma função responsável pela inicialização do programa com a respectiva <code>flag</code>(--help|-h <em>ou</em> --create|-c).</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>```
<a name="line-2"></a># ------------------------------------------------------------------------------
<a name="line-3"></a># | INITIALIZE PROGRAM                                                         |
<a name="line-4"></a># ------------------------------------------------------------------------------
<a name="line-5"></a>
<a name="line-6"></a>main() {
<a name="line-7"></a>
<a name="line-8"></a>    # Show help
<a name="line-9"></a>    if [[ &quot;${1}&quot; == &quot;-h&quot; || &quot;${1}&quot; == &quot;--help&quot; ]]; then
<a name="line-10"></a>        initpost_help ${1}
<a name="line-11"></a>        exit
<a name="line-12"></a>    fi
<a name="line-13"></a>
<a name="line-14"></a>    # Create
<a name="line-15"></a>    if [[ &quot;${1}&quot; == &quot;-c&quot; || &quot;${1}&quot; == &quot;--create&quot; ]]; then
<a name="line-16"></a>        initpost_file $*
<a name="line-17"></a>        exit
<a name="line-18"></a>    fi
<a name="line-19"></a>
<a name="line-20"></a>}
<a name="line-21"></a>
<a name="line-22"></a># Initialize
<a name="line-23"></a>main $*
<a name="line-24"></a>```
</code></pre></div>
<blockquote>
<p>O programa completo encontra-se <a href="https://github.com/vitorbritto/forcefiles/blob/master/scripts/initpost.sh">aqui</a>. </p>
</blockquote>

<p>O script é configurável e espero que seja útil para você. </p>

<p>Até a próxima! =]</p>

            </section>

        </article>

        <section class="box">
    <div class="span3">
        <img class="box-thumb" src="http://www.vitorbritto.com.br/blog/assets/images/avatar.jpg">
    </div>
    <div class="span9">
        <section class="box-details">
            <h3>Vitor Britto</h3>
            <p>Full Stack Web Developer, extremamente apaixonado pelo seu trabalho (e Unix). Descobriu o mundo dos códigos há quase duas decádas e mantém a mesma paixão desde o primeiro dia dessa descoberta. Trabalha como freelancer full time há quase 4 anos desenvolvendo projetos voltados para a web. Também direciona boa parte do seu tempo para pesquisas, desenvolvimento de projetos open-source e escrever os artigos aqui publicados.</p>
        </section>
    </div>
</section>

        <div class="box">
    <div class="newsletter-wrapper">
    <form action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=vitorbritto', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
        <h3 class="newsletter-title">Receba os artigos no seu e-mail</h3>
        <p class="newsletter-text">Inscreva-se na minha newsletter para receber notificações de novos artigos no seu e-mail.</p>
        <input class="input" type="email" name="email" placeholder="Digite o seu email"/>
        <input type="hidden" value="vitorbritto" name="uri"/>
        <input type="hidden" name="loc" value="en_US"/>
        <input class="btn-newsletter" type="submit" value="Assinar Newsletter" />
    </form>
    </div>
</div>


        <div class="line"></div>

        

<div id="disqus_thread"></div>

<script type="text/javascript">

    var disqus_shortname = 'blogvitorbritto'; // shortname

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Por favor, habilite o JavaScript para ver os <a href="http://disqus.com/?ref_noscript">comentários</a> deste artigo.</noscript>



    </div>

        <div class="line"></div>

        <div class="row">
            <footer class="footer">
                    <p class="footer-text">Desenvolvido por Vitor Britto. Feito com <a href="http://jekyllrb.com/" title="Jekyll" target="_blank">Jekyll</a>, <i class="icon-coffee"></i> e <i class="icon-heart"></i>.</p>
            </footer>
        </div>

    </div>

    <!-- Scripts -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="http://www.vitorbritto.com.br/blog/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src='http://www.vitorbritto.com.br/blog/assets/js/app.min.js'></script>

    <!-- Google Analytics -->
    <script>
    var _gaq=[['_setAccount','UA-12808940-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

