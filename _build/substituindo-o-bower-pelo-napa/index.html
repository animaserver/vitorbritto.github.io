<!DOCTYPE html>
<html>
<head>

    <title>Substituindo o Bower pelo Napa</title>

    <!-- Meta -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Desenvolvedor Web" />

    <!-- Facebook -->
    <meta property="og:title" content="Substituindo o Bower pelo Napa"/>
    <meta property="og:site_name" content="Blog - Vitor Britto"/>
    <meta property="og:url" content="http://www.vitorbritto.com.br/blog/substituindo-o-bower-pelo-napa/"/>
    <meta property="og:image" content="http://www.vitorbritto.com.br/blog/assets/images/fb.jpg"/>
    <meta property="og:type" content="article"/>
    <meta property="og:description" content="Depois de quase 3 anos utilizando o Backbone como o principal framework em JavaScript para a arquitetura e modularização em minhas aplicações web, resolvi arriscar, estudar e realizar alguns experimentos com o AngularJS. Neste artigo, mostro como é possível instalar módulos do Angular e injetá-los no nosso manifesto JSON sem problemas com o napa."/>

    <link rel="shortcut icon" href="http://www.vitorbritto.com.br/blog/assets/images/favicon.png" type="image/x-icon">
    <link href="http://feeds.feedburner.com/vitorbritto" rel="alternate" type="application/rss+xml">
    <link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700" rel="stylesheet">
    <link href="http://www.vitorbritto.com.br/blog/assets/css/style.css" rel="stylesheet" id="theme-css"/>

</head>

<body>

    <div class="container">

        <div class="row">
            <header class="header">

                <div class="span4">
                    <div class="header-info">
                        <h1 class="header-name"><a href="http://www.vitorbritto.com.br/blog">Vitor Britto</a></h1>
                        <h4 class="header-description">Desenvolvedor Web</h4>
                    </div>
                </div>

                <div class="span5">
                    <nav>
    <ul class="menu">
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/">Início</a></li>
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/about">Sobre</a></li>
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/projects">Projetos</a></li>
        <li class="menu-item"><a href="http://www.vitorbritto.com.br/blog/tips">Dicas</a></li>
    </ul>
</nav>

                </div>

                <div class="span3">
                    <nav>
    <ul class="menu">
        <li class="menu-item">
            <a href="https://www.facebook.com/vbwebstudio" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>
        </li>
        <li class="menu-item">
            <a href="https://twitter.com/vitorbritto" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>
        </li>
        <li class="menu-item">
            <a href="https://github.com/vitorbritto" title="Github" target="_blank"><i class="icon-github"></i></a>
        </li>
        <li class="menu-item">
            <a href="http://feeds.feedburner.com/vitorbritto" title="RSS Feed" target="_blank"><i class="icon-rss"></i></a>
        </li>
    </ul>
</nav>

                </div>

            </header>
        </div>

        <div class="line"></div>


<!-- Switch Theme -->
<div class="theme-wrapper">
    <p class="theme-text">Tema:</p>
    <span class="theme-btn light" id="theme-light"></span>
    <span class="theme-btn dark" id="theme-dark"></span>
</div>

    <div class="row">

        <article class="article">

            <img class="article-img" src="http://www.vitorbritto.com.br/blog/assets/images/posts/post-napa.jpg">
            <h2 class="article-title">Substituindo o Bower pelo Napa</h2>

            <ul class="article-info">
                
                <li><a href="https://github.com/vitorbritto/vitorbritto.github.io/blob/master/_posts/2014-06-11-substituindo-o-bower-pelo-napa.md" title="Github" target="_blank"><i class="icon-github"></i> Editar este post</a></li>
                
                <li>Publicado em: 11/06/2014 | </li>
                <li>Leia em: 2  minutos</li>

            </ul>

            <div class="line"></div>

            <section class="article-entry">
                <p>Saudações!</p>

<p>Depois de quase 3 anos utilizando o <strong>Backbone</strong> como <em>JavaScript framework</em> para a arquitetura e modularização em minhas aplicações web, resolvi arriscar, estudar e realizar alguns experimentos com o <strong>AngularJS</strong>.</p>

<p>Não somente, resolvi migrar também para o padrão CommonJS e usar o <a href="http://browserify.org/">Browserify</a> em meus projetos. Posso dizer que estou bastante satisfeito com o resultado e que atende perfeitamente as minhas necessidades. Não que o padrão AMD, com requireJS, não atendesse estas necessidades, mas, por estar muito próximo ao NodeJS atualmente, percebi que seria mais sensato realizar esta migração. Seja pela sintaxe, uso de módulos do npm no browser-side ou a padronização do meu código. Porém, isto não significa que o novo padrão adotado seja a solução para todos os cenários. Cada caso é um caso.</p>

              <h3 id="Entendendo-o-cenário">
                <a name="Entendendo-o-cenário" href="#Entendendo-o-cenário"></a>Entendendo o cenário
              </h3>
            
<p>Em meio aos experimentos, resolvi iniciar um boilerplate para o <strong>MEAN Stack</strong> e encontrei o <a href="https://www.npmjs.org/package/napa">Napa</a>. A solução que este cara nos dá, é um método alternativo para consumir módulos arbitrários.</p>

<p>Até o momento desconheço módulos oficiais do Angular no <em>npm</em>, mas, com o <em>napa</em>, é possível instalar módulos do Angular e injetá-los no nosso manifesto JSON <code>package.json</code> sem problemas.</p>

              <h3 id="Como-faremos-isso-">
                <a name="Como-faremos-isso-" href="#Como-faremos-isso-"></a>Como faremos isso?
              </h3>
            
<p>O processo é bem prático, confira abaixo:</p>

<p>1 - Realize a instalação do <strong>napa</strong>: <code>npm i napa --save-dev</code></p>

<p>2 - Insira o código abaixo no seu manifesto <code>package.json</code>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>&quot;scripts&quot;: {
<a name="line-2"></a>    &quot;install&quot;: &quot;napa&quot;
<a name="line-3"></a>},
<a name="line-4"></a>&quot;napa&quot;: {
<a name="line-5"></a>    &quot;angular&quot;: &quot;angular/bower-angular&quot;,
<a name="line-6"></a>    &quot;angular-route&quot;: &quot;angular/bower-angular-route&quot;
<a name="line-7"></a>}
</code></pre></div>
<p>3 - Insira a função <code>require()</code> dos módulos no script principal (ex.: <code>app.js</code>):</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>require(&#39;angular/angular&#39;);
<a name="line-2"></a>require(&#39;angular-route/angular-route&#39;);
</code></pre></div>
<p>4 - Coloque o Angular na brincadeira:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><a name="line-1"></a>angular.module(&#39;myApp&#39;, [&#39;ngRoute&#39;]).config([&#39;$routeProvider&#39;, function($routeProvider) {
<a name="line-2"></a>    // Declare suas rotas
<a name="line-3"></a>    $routeProvider.when(&#39;/view1&#39;, {templateUrl: &#39;partials/partial1.html&#39;});
<a name="line-4"></a>    $routeProvider.when(&#39;/view2&#39;, {templateUrl: &#39;partials/partial2.html&#39;});
<a name="line-5"></a>    $routeProvider.otherwise({redirectTo: &#39;/view1&#39;});
<a name="line-6"></a>}]);
</code></pre></div>
<p>5 - Profit! :)</p>

<p>Perceba que foi criado um objeto JSON de nome <code>napa</code>, que vai conter os módulos necessários para a aplicação. Basta apontar para o caminho relativo do <a href="https://github.com/angular">repositório do Angular no Github</a>.</p>

<p>Mas, e o objeto <code>scripts</code>?</p>

<p>Bom, no manifesto JSON <code>package.json</code> podemos executar <em>scripts</em>. Neste cenário, estamos declarando que <code>npm install</code> vai executar a instalação dos módulos contidos no objeto <code>napa</code> também. Show de bola, não é? =]</p>

              <h3 id="Resumindo-">
                <a name="Resumindo-" href="#Resumindo-"></a>Resumindo...
              </h3>
            
<p>Conseguimos instalar as dependências necessárias sem a necessidade de colocar o <strong>Bower</strong> na jogada, além de centralizar estes caras em um único manifesto JSON (_package.json_). Lembre-se que estou utilizando o padrão CommonJS, e o Browserify é o responsável por tratar/compilar os scripts da aplicação.</p>

<p>Confira a documentação do napa <a href="https://github.com/shama/napa">aqui</a>.</p>

<p>Até a próxima! =]</p>

            </section>

        </article>

        <section class="box">
    <div class="span3">
        <img class="box-thumb" src="http://www.vitorbritto.com.br/blog/assets/images/avatar.jpg">
    </div>
    <div class="span9">
        <section class="box-details">
            <h3>Vitor Britto</h3>
            <p>Full Stack Web Developer, extremamente apaixonado pelo seu trabalho (e Unix). Descobriu o mundo dos códigos há quase duas decádas e mantém a mesma paixão desde o primeiro dia dessa descoberta. Trabalha como freelancer full time há quase 4 anos desenvolvendo projetos voltados para a web. Também direciona boa parte do seu tempo para pesquisas, desenvolvimento de projetos open-source e escrever os artigos aqui publicados.</p>
        </section>
    </div>
</section>

        <div class="box">
    <div class="newsletter-wrapper">
    <form action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=vitorbritto', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
        <h3 class="newsletter-title">Receba os artigos no seu e-mail</h3>
        <p class="newsletter-text">Inscreva-se na minha newsletter para receber notificações de novos artigos no seu e-mail.</p>
        <input class="input" type="email" name="email" placeholder="Digite o seu email"/>
        <input type="hidden" value="vitorbritto" name="uri"/>
        <input type="hidden" name="loc" value="en_US"/>
        <input class="btn-newsletter" type="submit" value="Assinar Newsletter" />
    </form>
    </div>
</div>


        <div class="line"></div>

        

<div id="disqus_thread"></div>

<script type="text/javascript">

    var disqus_shortname = 'blogvitorbritto'; // shortname

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Por favor, habilite o JavaScript para ver os <a href="http://disqus.com/?ref_noscript">comentários</a> deste artigo.</noscript>



    </div>

        <div class="line"></div>

        <div class="row">
            <footer class="footer">
                    <p class="footer-text">Desenvolvido por Vitor Britto. Feito com <a href="http://jekyllrb.com/" title="Jekyll" target="_blank">Jekyll</a>, <i class="icon-coffee"></i> e <i class="icon-heart"></i>.</p>
            </footer>
        </div>

    </div>

    <!-- Scripts -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="http://www.vitorbritto.com.br/blog/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src='http://www.vitorbritto.com.br/blog/assets/js/app.min.js'></script>

    <!-- Google Analytics -->
    <script>
    var _gaq=[['_setAccount','UA-12808940-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

